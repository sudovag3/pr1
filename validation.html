<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <label for="themeSwitch">Dark theme:</label>
    <input type="checkbox" id="themeSwitch">
    <form id="myForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required>
        <div class="error-message" id="nameError">Please enter your name.</div>

        <label for="email">Email:</label>
        <input type="email" id="email" required>
        <div class="error-message" id="emailError">Please enter a valid email address.</div>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById("themeSwitch").addEventListener("change", function() {
            document.getElementById("myForm").classList.toggle("dark-theme");
        });
        document.getElementById("myForm").addEventListener("submit", function(event) {
            event.preventDefault();

            const name = document.getElementById("name");
            const email = document.getElementById("email");

            let valid = true;

            if (!name.value) {
                valid = false;
                showError(name, "nameError");
            } else {
                hideError(name, "nameError");
            }

            if (!email.value || !email.checkValidity()) {
                valid = false;
                showError(email, "emailError");
            } else {
                hideError(email, "emailError");
            }

            if (valid) {
                this.submit();
            }
        });

        function showError(input, errorId) {
            input.classList.add("error");
            document.getElementById(errorId).style.display = "block";
        }

        function hideError(input, errorId) {
            input.classList.remove("error");
            document.getElementById(errorId).style.display = "none";
        }
    </script>
</body>
</html>
